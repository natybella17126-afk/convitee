<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Convite Especial 🚗</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(to bottom, #1e1e1e, #111);
        color: #fff;
        text-align: center;
        overflow-x: hidden;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      h1 {
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      #road {
        position: relative;
        width: 80%;
        height: 120px;
        margin: 0 auto 30px;
        background: gray;
        border-radius: 10px;
        overflow: hidden;
      }

      #car {
        position: absolute;
        bottom: 10px;
        left: -150px;
        width: 120px;
        transition: left 6s linear;
        z-index: 10;
      }

      .smoke {
        position: absolute;
        width: 20px;
        height: 20px;
        background: rgba(200, 200, 200, 0.7);
        border-radius: 50%;
        bottom: 30px;
        animation: smokeRise 2s linear forwards;
        opacity: 0;
      }

      @keyframes smokeRise {
        0% {
          transform: translateX(0) translateY(0);
          opacity: 0.6;
        }
        50% {
          transform: translateX(-20px) translateY(-40px);
          opacity: 0.3;
        }
        100% {
          transform: translateX(-40px) translateY(-80px);
          opacity: 0;
        }
      }

      .options {
        display: none;
        margin-top: 20px;
      }

      .options button {
        background-color: #ff5722;
        border: none;
        padding: 10px 20px;
        margin: 10px;
        color: white;
        font-size: 1em;
        border-radius: 5px;
        cursor: pointer;
        transition: 0.3s;
      }

      .options button:hover {
        background-color: #ff784e;
      }

      #finalMessage {
        display: none;
        margin-top: 20px;
        font-size: 1.5em;
        color: #00ff99;
      }

      #printBtn {
        display: none;
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1em;
        border-radius: 5px;
        cursor: pointer;
        background-color: #00ff99;
        color: #111;
        border: none;
      }
    </style>
  </head>
  <body>
    <h1>
      Já que você é ruim de responder minhas mensagens, indico uns lugares
      legais nos quais isso não vai ter problema 😏<br />
      Pessoalmente não tem como deixar de responder 😜
    </h1>

    <div id="road">
      <img src="img/carro.png" alt="Carro" id="car" />
    </div>

    <div class="options" id="options">
      <p>Escolha uma aventura:</p>
      <button onclick="showMessage('drift')">Drift 🚗💨</button>
      <button onclick="showMessage('invo')">
        Invocação do mal + pipoca e fofoca 👻🍿
      </button>
      <button onclick="showMessage('museu')">
        Corridinha lenta: Museu de carros 🏎️
      </button>
      <button onclick="showMessage('sol')">Ver o nascer do sol 🌅</button>
    </div>

    <div id="finalMessage"></div>
    <button id="printBtn">Tirar print 🖼️</button>

    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
      const car = document.getElementById("car");
      const road = document.getElementById("road");
      const options = document.getElementById("options");
      const final = document.getElementById("finalMessage");
      const printBtn = document.getElementById("printBtn");

      // Criar fumaça
      function createSmoke() {
        const smoke = document.createElement("div");
        smoke.className = "smoke";
        smoke.style.left = car.offsetLeft + 50 + "px";
        road.appendChild(smoke);
        setTimeout(() => road.removeChild(smoke), 2000);
      }

      // Mensagens personalizadas
      const messages = {
        drift:
          "Uau! Você escolheu Drift 🚗💨. Preparado para uma aventura de velozes e furiosos? Vai ser incrível! 😏",
        invo: "Haha, Invocação do mal + pipoca e fofoca 👻🍿? Estou doida para não dormir a noite kakaka 😜",
        museu: "Museu de carros 🏎️ Boramos? 😎",
        sol: "Ver o nascer do sol 🌅? Essa foi no ponto hahaha 🌞",
      };

      window.onload = function () {
        setTimeout(() => {
          car.style.left = "calc(100% - 130px)";
        }, 500);

        const smokeInterval = setInterval(createSmoke, 200);

        setTimeout(() => {
          clearInterval(smokeInterval);
          options.style.display = "block";
        }, 6500);
      };

      // Mostra mensagem baseada na escolha e tira print automaticamente
      function showMessage(option) {
        options.style.display = "none";
        final.innerHTML = messages[option];
        final.style.display = "block";

        // Espera 1 segundo e tira print automático
        setTimeout(() => {
          html2canvas(document.body).then((canvas) => {
            const link = document.createElement("a");
            link.download = "convite_especial.png";
            link.href = canvas.toDataURL();
            link.click();
          });
        }, 1000);
      }
    </script>
  </body>
</html>
